# Edge Functions Environment Variables
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to git - it contains secrets!

# ============================================================================
# REQUIRED - Core Supabase Configuration
# ============================================================================
# Your Supabase instance URL (e.g., https://yourproject.supabase.co or https://api.yourdomain.com)
SUPABASE_URL=https://api.repclub.net

# Supabase anonymous/public key (safe for client-side, limited permissions)
# Get from: Supabase Dashboard → Settings → API
SUPABASE_ANON_KEY=no...

# Supabase service role key (admin key, KEEP SECRET!)
# Get from: Supabase Dashboard → Settings → API
SUPABASE_SERVICE_ROLE_KEY=no...

# ============================================================================
# OPTIONAL - Third-party API Keys (only needed for specific functions)
# ============================================================================

# OpenAI API Key - Required for ai-generate function
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Stripe Secret Key - Required for payment functions
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_... # or sk_live_... for production

# Stripe Webhook Secret - Required for verify-payment function
# Get from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_...

# Resend API Key - Required for email functions (receive-email, send-email-response)
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_...

# ============================================================================
# OPTIONAL - Direct Database Access (usually not needed)
# ============================================================================
# Only needed if functions require direct PostgreSQL connection
# Usually Supabase client is sufficient

SUPABASE_DB_HOST=db.yourproject.supabase.co
SUPABASE_DB_PORT=5432
SUPABASE_DB_PASSWORD=your_db_password

# ============================================================================
# Runtime Configuration
# ============================================================================

# Port for the edge functions server (default: 8000)
PORT=8000

# Environment mode (development or production)
DENO_ENV=development

# Pre-load all functions at startup for faster first-request (true/false)
# Increases startup time but reduces latency for first request
PRELOAD_FUNCTIONS=false

# ============================================================================
# Coolify Metadata (automatically injected by Coolify, don't set manually)
# ============================================================================
# These are set automatically by Coolify during deployment

# SOURCE_COMMIT=<git_commit_sha>
# COOLIFY_URL=https://functions.repclub.net
# COOLIFY_FQDN=functions.repclub.net
# COOLIFY_BRANCH=main
# COOLIFY_CONTAINER_NAME=<container_name>
# COOLIFY_RESOURCE_UUID=<resource_uuid>

